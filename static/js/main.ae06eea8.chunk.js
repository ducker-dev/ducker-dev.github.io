(this["webpackJsonpleansquad-blog"]=this["webpackJsonpleansquad-blog"]||[]).push([[0],{29:function(t,e,n){t.exports=n(46)},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(16),s=n.n(c),r=(n(34),n(11)),l=n(5),i=n(6),u=n(8),p=n(7),m=n(9),h=(n(35),n(12));n(36);var f=function(){return o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"container header__content"},o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(h.b,{to:"/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u0441\u0442\u0430\u043c"))))))},d=n(22),E=n.n(d),v=(n(41),function(t,e,n,a,o){var c={method:t,headers:{"Content-Type":"application/json;charset=utf-8"},body:e?JSON.stringify(e):null};fetch("".concat("https://simpleblogapi.herokuapp.com","/").concat(n),c).then("GET"===t?function(t){return t.json()}:function(t){return t.text()}).then((function(t){return a(t)})).catch((function(t){return o(t)}))}),b=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(u.a)(this,Object(p.a)(e).call(this,t))).changeForm=function(t){t.preventDefault();var e=n.textInputOne.current.value,a=n.textInputTwo.current.value;v("PUT",{title:e,body:a},"posts/".concat(n.props.id),(function(){v("GET",null,"posts",(function(t){n.props.getPosts(t),n.setState({change:!1})}),(function(t){return console.log(t)}))}))},n.textInputOne=o.a.createRef(),n.textInputTwo=o.a.createRef(),n.state={change:!1,showOption:!1},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.title,c=e.body,s=e.getPosts;return o.a.createElement("div",{className:"post"},!this.state.showOption&&o.a.createElement("div",{className:"post__show-option",onClick:function(){return t.setState({showOption:!0})}},"..."),this.state.showOption&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:E()("post__del-post",{"post__del-post_visible":this.state.change}),onClick:function(){v("DELETE",null,"posts/".concat(n),(function(){v("GET",null,"posts",(function(t){return s(t)}),(function(t){return console.log(t)}))}),(function(t){return console.log(t)}))}},o.a.createElement("svg",{width:"12",height:"15",viewBox:"0 0 12 15",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1.31213 14.2766C1.32906 14.6809 1.66176 15 2.06635 15H9.11356C9.51815 15 9.85085 14.6809 9.86778 14.2766L10.371 3.65259H0.808868L1.31213 14.2766ZM7.18412 6.29141C7.18412 6.12213 7.32138 5.98483 7.49074 5.98483H7.98115C8.1504 5.98483 8.28777 6.12209 8.28777 6.29141V12.3612C8.28777 12.5305 8.15051 12.6678 7.98115 12.6678H7.49074C7.32145 12.6678 7.18412 12.5306 7.18412 12.3612V6.29141ZM5.03816 6.29141C5.03816 6.12213 5.17543 5.98483 5.34475 5.98483H5.83516C6.00441 5.98483 6.14175 6.12209 6.14175 6.29141V12.3612C6.14175 12.5305 6.00452 12.6678 5.83516 12.6678H5.34475C5.17546 12.6678 5.03816 12.5306 5.03816 12.3612V6.29141ZM2.89214 6.29141C2.89214 6.12213 3.0294 5.98483 3.19872 5.98483H3.68917C3.85846 5.98483 3.99576 6.12209 3.99576 6.29141V12.3612C3.99576 12.5305 3.85849 12.6678 3.68917 12.6678H3.19872C3.02944 12.6678 2.89214 12.5306 2.89214 12.3612V6.29141Z"}),o.a.createElement("path",{d:"M10.7061 0.772725H7.455V0.158085C7.455 0.0707985 7.38424 0 7.29691 0H3.8829C3.79562 0 3.72485 0.0707985 3.72485 0.158085V0.772688H0.473704C0.212065 0.772688 0 0.98479 0 1.24643V2.73463H11.1798V1.24647C11.1798 0.984827 10.9677 0.772725 10.7061 0.772725Z"}))),o.a.createElement("div",{className:E()("post__change-post",{"post__change-post_visible":this.state.change}),onClick:function(){return t.setState({change:!t.state.change})}},o.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M3.93517 9.78157L1.39876 7.24575L7.5335 1.11245L10.0699 3.64826L3.93517 9.78157ZM1.16168 7.69244L3.48838 10.0186L0 11.18L1.16168 7.69244ZM10.85 2.87166L10.4101 3.3115L7.87034 0.772334L8.31028 0.332496C8.75344 -0.110832 9.47209 -0.110832 9.91525 0.332496L10.85 1.26707C11.29 1.7116 11.29 2.42726 10.85 2.87166Z",fill:"black"})))),this.state.change?o.a.createElement("div",{className:"post__wrapper-form"},o.a.createElement("form",{className:"post__change-form",onSubmit:this.changeForm},o.a.createElement("input",{className:"post__input",required:!0,type:"text",defaultValue:a,ref:this.textInputOne}),o.a.createElement("input",{className:"post__input",required:!0,type:"text",defaultValue:c,ref:this.textInputTwo}),o.a.createElement("button",{className:"post__button"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u0442"))):o.a.createElement(h.b,{to:"/view-post/"+n,className:"post__link"},o.a.createElement("div",{className:"post__title"},a||"\u0412\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043b\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430"),o.a.createElement("div",{className:"post__body"},c||"\u0412\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043b\u0438 \u0442\u0435\u043b\u043e \u043f\u043e\u0441\u0442\u0430")))}}]),e}(a.Component),_=(n(42),function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(u.a)(this,Object(p.a)(e).call(this,t))).handleSubmit=function(t){t.preventDefault();var e=n.textInputOne.current.value,a=n.textInputTwo.current.value;v("POST",{title:e,body:a},"posts",(function(){v("GET",null,"posts",(function(t){return n.props.getPosts(t)}),(function(t){return console.log(t)})),e="",a="",n.setState({openEditing:!1})}))},n.textInputOne=o.a.createRef(),n.textInputTwo=o.a.createRef(),n.state={openEditing:!1,inputValueOne:"",inputValueTwo:""},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=this.state.openEditing;return o.a.createElement("div",{className:"create-post",onClick:function(){return t.setState({openEditing:!0})}},e?o.a.createElement("form",{className:"create-post__form",onSubmit:this.handleSubmit},o.a.createElement("input",{className:"create-post__input",required:!0,type:"text",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430",ref:this.textInputOne}),o.a.createElement("input",{className:"create-post__input",required:!0,type:"text",placeholder:"\u0422\u0435\u043b\u043e \u043f\u043e\u0441\u0442\u0430",ref:this.textInputTwo}),o.a.createElement("button",{className:"create-post__button"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442")):o.a.createElement("div",{className:"create-post__plus"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"))}}]),e}(a.Component)),g=n(14),O=function(t){function e(){return Object(l.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this;v("GET",null,"posts",(function(e){return t.props.getPosts(e)}),(function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.props,e=t.posts,n=t.getPosts;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,null),o.a.createElement("div",{className:"posts"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Posts"),o.a.createElement("div",{className:"posts__content"},0===e.length?o.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):e.map((function(t){return o.a.createElement(b,Object.assign({key:t.id},t,{getPosts:n}))})),o.a.createElement(_,{getPosts:n})))))}}]),e}(a.Component),y={getPosts:function(t){return{type:"GET_POSTS",payload:t}}},j=Object(g.b)((function(t){return{posts:t.posts}}),y)(O),w=(n(44),n(45),function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(u.a)(this,Object(p.a)(e).call(this,t))).handleSubmit=function(t){t.preventDefault(),v("POST",{postId:n.props.id,body:n.textInput.current.value},"comments",(function(){v("GET",null,"posts/".concat(n.props.id,"?_embed=comments"),(function(t){return n.props.getPost(t)}),(function(t){return console.log(t)})),n.textInput.current.value=""}))},n.textInput=o.a.createRef(),n.state={value:""},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.props.comments;return o.a.createElement("div",{className:"comments"},t&&t.length>0?t.map((function(t){return o.a.createElement("div",{key:t.id,className:"comments__comment"},t.body)})):o.a.createElement("div",{className:"comments__temporary-text"},t?"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0441\u0442 \u0435\u0449\u0435 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"),o.a.createElement("form",{className:"comments__form",onSubmit:this.handleSubmit},o.a.createElement("input",{className:"comments__input",required:!0,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",ref:this.textInput}),o.a.createElement("button",{className:"comments__button"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),e}(a.Component)),N=function(t){function e(){return Object(l.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id||"";fetch("https://simpleblogapi.herokuapp.com/posts/".concat(e,"?_embed=comments")).then((function(t){return t.json()})).then((function(e){return t.props.getPost(e)}))}},{key:"componentWillUnmount",value:function(){this.props.getPost({})}},{key:"render",value:function(){var t=this.props,e=t.post,n=t.getPost;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,null),o.a.createElement("div",{className:"view-post"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"View post"),e.title||e.body?o.a.createElement("div",{className:"view-post__content"},o.a.createElement("div",{className:"view-post__title"},e.title),o.a.createElement("div",null,e.body)):o.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u0441\u0442\u0435..."),o.a.createElement("h1",null,"Comments"),o.a.createElement(w,Object.assign({},e,{getPost:n})))))}}]),e}(a.Component),C={getPost:function(t){return{type:"GET_POST",payload:t}}},x=Object(g.b)((function(t){return{post:t.post}}),C)(N);var T=function(){return o.a.createElement(r.c,null,o.a.createElement(r.a,{exact:!0,path:"/",component:j}),o.a.createElement(r.a,{path:"/view-post/:id",component:x}))},P=n(18),S=n(24),k={posts:[],post:{}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_POSTS":return Object(S.a)({},t,{posts:e.payload});case"GET_POST":return Object(S.a)({},t,{post:e.payload});default:return t}},V=Object(P.b)(I);s.a.render(o.a.createElement(h.a,null,o.a.createElement(g.a,{store:V},o.a.createElement(T,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.ae06eea8.chunk.js.map